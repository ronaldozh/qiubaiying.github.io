---
layout:     post
title:      js&jquery常见操作
subtitle:   常见问题解决
date:       2017-11-25
author:     赵小恒
header-img: img/404-bg.jpg
catalog: true
tags:
    - js
    - jquery
---

### 1、javascript

#### 1.1 js中遍历list

`使用foreach标签`
{%highlight ruby%}
<c:forEach items="${mapZdxxList}" var="t">
	str+="<option value=${t.COL}"+">${t.COL}（${t.COLBM}）</option>";
</c:forEach>
{%endhighlight%}

#### 1.2 jquery常用方法
[十分钟玩转 jQuery、实例大全](http://www.cnblogs.com/suoning/p/5683047.html)

#### 1.3 页面动态添加与删除

动态添加
{% highlight ruby %}
function addSc(){
    var str="<tr><th style=\"text-align:right;\" width=\"180px\">下拉查询名称：</th>"
        +"<td style=\"text-align:left;\"  >"
        +"<input type=\"text\" name=\"xlcxxsmc\" id='xlcxxsmc' value=\"\" style=\"color: black;width:200px !important;\" maxlength=\"100\" dataType=\"Require\" msg=\"必填\"/>"
        +"</td>"
        +"<th style=\"text-align:right;\" width=\"180px\">下拉查询字段：</th>"
        +"<td style=\"text-align:left;\"  width=\"280px\">"
        +"<select name=\"xlcxxszd\" id=\"xlcxxszd\"  dataType=\"Require\" msg=\"必选\" >"
        +"<option value=\"\" >--请选择--</option>";

    if('${zbscxbEntity.zbsjlyid}'!=''){
        if('${map.SJLYLX}'=='0'){
            <c:forEach items="${mapZdxxList}" var="t">
            str+="<option value=${t.COL}"+">${t.COL}（${t.COLBM}）</option>";
            </c:forEach>
        }
        if('${map.SJLYLX}'=='1'){
            <c:forEach items="${mapSjjZdxxList}" var="t">
            str+="<option value=${t.ID}"+">${t.BT}（${t.SCZD}）</option>";
            </c:forEach>
        }
    }else{
        <c:forEach items="${lbsclyscbList}" var="obj" varStatus="status">
            str+="<option value=${obj.ID}"+">${obj.BT}（${obj.SCZD}）</option>";
        </c:forEach>
    }
    str+="</select>"
        +"</td>"
        +"</tr>"
        +"<tr>"
        +"<th style=\"text-align:right;\" width=\"180px\">下拉框值SQL：</th>"
        +"<td style=\"text-align:left;\"  colspan=\"3\">"
        +"<textarea name=\"xlsql\" id=\"xlsql\" style=\"width:400px\"  dataType=\"Require\" msg=\"必填\"></textarea>"
        +"</td>"
        +"</tr>"
        +"<tr>"
        +"<th style=\"text-align:right;\" width=\"180px\">下拉框值：</th>"
        +"<td style=\"text-align:left;\"  >"
        +"<input type=\"text\" name=\"xlzzd\" id='xlzzd' value=\"\" style=\"color: black;width:200px !important;\" maxlength=\"100\" dataType=\"Require\" msg=\"必填\"/>" +"</td>"
        +"<th style=\"text-align:right;\" width=\"180px\">下拉框显示：</th>"
        +"<td style=\"text-align:left;\"  >"
        +"<input type=\"text\" name=\"xlxszzd\" id='xlxszzd' value=\"\" style=\"color: black;width:200px !important;\" maxlength=\"100\" dataType=\"Require\" msg=\"必填\"/>"
        +"</td>"
        +"</tr>"
        +"<tr>"
        +"<th style=\"text-align:center;\" colspan=\"4\">"
        +"<div class=\"addlist_button1 ml5\" style=\"float: right;\"> <a href=\"javascript:void(0);\" onclick=\"delTr(this);\"><span>删除下拉查询</span></a> </div>"
        +"</th>"
        +"</tr>"
    $("#33").append(str);
}
{% endhighlight %}

动态删除
{% highlight ruby %}
//删除下拉查询
function delTr(obj){
    $(obj).parent().parent().parent().prev("tr").prev("tr").prev("tr").remove();
    $(obj).parent().parent().parent().prev("tr").prev("tr").remove();
    $(obj).parent().parent().parent().prev("tr").remove();
    $(obj).parent().parent().parent().remove();
}
{% endhighlight %}

